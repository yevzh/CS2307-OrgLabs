   .MODEL SMALL
   .DATA
   .STACK 64
   .CODE
;PortIn	EQU	80h	;定义输入端口号
;PortOut	EQU	88h	;定义输出端口号
PortIn	EQU	90h	;定义输入端口号
PortOut	EQU	0A0h	;定义输出端口号


main proc far
	MOV BX,7FFFH
STAGE0:	IN AL,PortIn
	OR AL,00110110b
	OUT PortOut,AL
	SUB BX,1
	CMP BX,0
	JNE STAGE0
	MOV BX,0FFFFH
STAGE1:	IN AL,PortIn
	OR AL,00110011b
	OUT PortOut,AL
	SUB BX,1
	CMP BX,0
	JNE STAGE1
	MOV BX,0FFFH
BLINK1: IN AL,PortIn
	OR AL,00110011b
	OUT PortOut,AL
	
	IN AL,PortIn
	OR AL,00110111b
	OUT PortOut,AL
	SUB BX,1
	CMP BX,0
	JNE BLINK1
	MOV BX,7FFFH
STAGE2: IN AL,PortIn
	OR AL,00110101b
	OUT PortOut,AL
	SUB BX,1
	CMP BX,0
	JNE STAGE2
	MOV BX,0FFFFH
STAGE3: IN AL,PortIn
	OR AL,00011110b
	OUT PortOut,AL
	SUB BX,1
	CMP BX,0
	JNE STAGE3
	MOV BX,0FFFH
BLINK2: IN AL,PortIn
	OR AL,00011110b
	OUT PortOut,AL
	
	IN AL,PortIn
	OR AL,00111110b
	OUT PortOut,AL
	SUB BX,1
	CMP BX,0
	JNE BLINK2
	MOV BX,7FFFH
STAGE4: IN AL,PortIn
	OR AL,00101110b
	OUT PortOut,AL
	SUB BX,1
	CMP BX,0
	JNE STAGE4
	MOV BX,7FFFH
	JMP STAGE1
main endp
END	main				;指示汇编程序结束编译